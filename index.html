<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="OVERLOAD">
<meta name="theme-color" content="#09090b">
<title>OVERLOAD</title>
<link rel="apple-touch-icon" href="icon-192.png">
<link rel="manifest" href="manifest.json">
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&family=Space+Grotesk:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap');
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;margin:0;padding:0}
html,body{background:#09090b;color:#f4f4f5;font-family:'Inter',-apple-system,sans-serif;min-height:100vh;min-height:100dvh;overscroll-behavior:none}
input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}
input[type=number]{-moz-appearance:textfield}
.app{max-width:480px;margin:0 auto;padding-bottom:120px}
.header{padding:16px 16px 12px;position:sticky;top:0;z-index:10;background:linear-gradient(to bottom,#09090b 85%,transparent);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);padding-top:max(16px,env(safe-area-inset-top))}
.header-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.logo{font-size:24px;font-weight:800;font-family:'Space Grotesk',sans-serif;letter-spacing:-0.03em;background:linear-gradient(135deg,#f97316,#fb923c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.logo-sub{font-size:10px;color:#52525b;font-weight:600;letter-spacing:0.1em;display:block}
.header-btns{display:flex;gap:6px}
.header-btn{background:none;border:1px solid #1f1f23;border-radius:8px;color:#3f3f46;font-size:10px;padding:6px 10px;cursor:pointer;font-weight:600;font-family:inherit}
.header-btn.active{background:#f9731620;border-color:#f97316;color:#f97316}
.days{display:flex;gap:4px}
.day-btn{flex:1;padding:8px 2px;border-radius:10px;border:1px solid #1f1f23;background:#111113;color:#52525b;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:2px;transition:all .15s;font-family:inherit}
.day-btn.active{border:1.5px solid #f97316;background:#f9731615;color:#f97316}
.day-emoji{font-size:14px}.day-label{font-size:10px;font-weight:700}
.content{padding:8px 16px}
.wt{display:flex;align-items:baseline;gap:8px;margin-bottom:4px}
.wt h2{font-size:18px;font-weight:800;font-family:'Space Grotesk',sans-serif;letter-spacing:-0.02em}
.ws{font-size:12px;color:#52525b;font-weight:600}
.wn{font-size:12px;color:#3f3f46;margin:4px 0 16px;line-height:1.5;font-style:italic}
.ec{background:#111113;border-radius:14px;padding:16px;border:1px solid #1f1f23;margin-bottom:10px;transition:border-color .3s}
.ec.logged{border-color:#22c55e40;border-width:1.5px}
.eh{cursor:pointer;display:flex;justify-content:space-between;align-items:center}
.en{font-size:15px;font-weight:700;letter-spacing:-0.01em}
.en.lg{color:#22c55e}
.em{font-size:11px;color:#52525b}
.el{color:#3f3f46}
.tg{font-size:9px;padding:2px 6px;border-radius:4px;font-weight:700;display:inline-block;margin-left:6px}
.td{background:#f9731620;color:#f97316}
.tu{background:#22c55e20;color:#22c55e;font-weight:800}
.ch{font-size:18px;color:#52525b;transition:transform .2s}
.ch.o{transform:rotate(180deg)}
.tb{background:#f9731610;border:1px solid #f9731630;border-radius:10px;padding:12px;margin-bottom:12px}
.tl{font-size:10px;font-weight:700;color:#f97316;margin-bottom:4px;letter-spacing:0.05em}
.tm{font-size:13px;color:#d4d4d8;line-height:1.5}
.tp{margin-top:8px;display:flex;gap:12px}
.pl{font-weight:800;font-size:13px;padding:4px 10px;border-radius:6px;font-family:'JetBrains Mono',monospace}
.pw{background:#f97316;color:#000}.pu{background:#22c55e;color:#000}
.pr{background:#27272a;color:#f4f4f5;font-weight:700}
.ls{margin-bottom:12px;padding:8px 10px;background:#0a0a0b;border-radius:8px}
.ll{font-size:10px;font-weight:700;color:#3f3f46;margin-bottom:4px;letter-spacing:0.05em}
.ld{font-size:12px;color:#71717a;font-family:'JetBrains Mono',monospace}
.sr{display:flex;gap:8px;align-items:center;padding:6px 0}
.sl{font-size:11px;font-weight:700;color:#6b7280;width:18px;font-family:'JetBrains Mono',monospace}
.si{display:flex;align-items:center;gap:4px;flex:1}
.inp{padding:8px 6px;border-radius:8px;border:1px solid #2a2a2f;background:#18181b;color:#f4f4f5;font-size:15px;text-align:center;font-family:'JetBrains Mono',monospace;outline:none;transition:border-color .15s}
.inp:focus{border-color:#f97316}
.iw{width:64px}.ir{width:52px}
.sx{color:#52525b;font-size:11px}
.sn{font-size:10px;color:#52525b;width:42px;text-align:right}
.lb{width:100%;margin-top:10px;padding:12px 0;border-radius:10px;border:none;font-weight:800;font-size:14px;letter-spacing:0.02em;transition:all .2s;font-family:inherit;cursor:pointer}
.lb.rdy{background:linear-gradient(135deg,#f97316,#ea580c);color:#000;box-shadow:0 4px 16px #f9731640}
.lb.dis{background:#27272a;color:#52525b;cursor:default}
.fb{border-radius:14px;padding:16px;margin-bottom:10px;animation:si .3s ease}
@keyframes si{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
.fi{font-size:24px}.ft{font-size:11px;font-weight:800;letter-spacing:0.08em;margin-bottom:4px}
.fd{font-size:13px;color:#d4d4d8;line-height:1.6}
.fs{margin-top:10px;display:flex;gap:6px;flex-wrap:wrap}
.fst{font-size:11px;font-family:'JetBrains Mono',monospace;background:#18181b;color:#a1a1aa;padding:3px 8px;border-radius:6px}
.fn{margin-top:10px}.fnl{font-size:10px;color:#52525b;font-weight:700}
.fnv{font-size:12px;font-weight:800;font-family:'JetBrains Mono',monospace}
.fx{background:none;border:none;color:#52525b;font-size:18px;cursor:pointer;padding:4px}
.ot{font-size:14px;font-weight:800;margin-bottom:10px;font-family:'Space Grotesk',sans-serif}
.od{font-size:12px;color:#71717a;margin-bottom:12px;line-height:1.5}
.ds{background:#111113;border-radius:12px;padding:14px;border:1px solid #1f1f23;margin-bottom:8px}
.dst{font-size:12px;font-weight:700;margin-bottom:6px}
.dsl{margin-bottom:4px;font-size:11px}
.dsu{color:#22c55e;font-weight:700}.dsn{color:#3b82f6;font-weight:700}
.dsv{color:#a1a1aa}.dsnv{color:#71717a}
.vs{margin-top:24px;padding:16px;background:#111113;border-radius:14px;border:1px solid #1f1f23}
.vt{font-size:10px;font-weight:700;color:#52525b;letter-spacing:0.1em;margin-bottom:10px}
.vr{display:flex;align-items:center;gap:8px;margin-bottom:6px}
.vl{font-size:11px;color:#71717a;width:72px;flex-shrink:0}
.vb{flex:1;height:6px;background:#1f1f23;border-radius:3px;overflow:hidden}
.vf{height:100%;border-radius:3px}
.vn{font-size:11px;font-weight:700;width:24px;text-align:right;font-family:'JetBrains Mono',monospace}
.rd{text-align:center;padding:60px 20px;color:#3f3f46}
.re{font-size:48px;margin-bottom:12px}.rt{font-size:15px;font-weight:600}
.rdd{font-size:12px;margin-top:8px;line-height:1.6}
.toast{position:fixed;top:16px;left:50%;transform:translateX(-50%);padding:6px 16px;border-radius:8px;z-index:100;font-weight:800;font-size:12px;color:#000;animation:ta 2s ease forwards}
@keyframes ta{0%{opacity:0;transform:translateX(-50%) translateY(-10px)}10%{opacity:1;transform:translateX(-50%) translateY(0)}80%{opacity:1}100%{opacity:0}}
.tok{background:#22c55e}.ter{background:#ef4444}
.ib{margin:12px 0;padding:14px;background:#f9731615;border:1px solid #f9731640;border-radius:12px}
.ibt{font-size:13px;font-weight:700;color:#f97316;margin-bottom:6px}
.ibs{font-size:12px;color:#d4d4d8;line-height:1.7}
.ibd{margin-top:8px;background:none;border:none;color:#52525b;font-size:11px;cursor:pointer;font-family:inherit}
</style>
</head>
<body>
<div class="app" id="app"></div>
<script>
const W={mon:{name:"Upper A",emoji:"ðŸ§±",subtitle:"Heavy Strength",note:"Last set of bench & pullups: push close to failure. Everything else controlled.",exercises:[{id:"bench",name:"Bench Press",sets:3,rr:[5,8],type:"compound"},{id:"wpullup",name:"Weighted Pullups",sets:3,rr:[6,8],type:"compound"},{id:"csrow",name:"Chest-Supported Row",sets:2,rr:[6,8],type:"compound"},{id:"ohp",name:"Overhead Press",sets:2,rr:[6,8],type:"compound"},{id:"hlateral",name:"Heavy Lateral Raises",sets:2,rr:[8,12],type:"isolation"},{id:"bcurl",name:"Barbell Curls",sets:2,rr:[8,10],type:"isolation"},{id:"tpush",name:"Tricep Pushdowns",sets:2,rr:[8,10],type:"isolation"}]},tue:{name:"Lower A",emoji:"ðŸ¦µ",subtitle:"Heavy",note:"No failure on squat/RDL. Add weight when you hit top of rep range for all sets.",exercises:[{id:"squat",name:"Squat",sets:3,rr:[5,8],type:"compound"},{id:"rdl",name:"RDL",sets:3,rr:[6,8],type:"compound"},{id:"legcurl",name:"Leg Curl",sets:2,rr:[8,10],type:"isolation"},{id:"calfa",name:"Calves",sets:3,rr:[10,15],type:"isolation"},{id:"hlr",name:"Hanging Leg Raises",sets:3,rr:[10,15],type:"isolation"}]},wed:{name:"Rest",emoji:"ðŸ’¤",subtitle:"Recovery",note:"20-30 min incline walk. Band pull-aparts 2Ã—20, Face pulls 2Ã—15.",exercises:[]},thu:{name:"Upper B",emoji:"ðŸ’ª",subtitle:"Hypertrophy / Width",note:"Controlled tempo: 2 sec eccentric minimum. Chase the pump.",exercises:[{id:"incdb",name:"Incline DB Press",sets:3,rr:[8,12],type:"compound"},{id:"cabrow",name:"Cable Row",sets:3,rr:[8,12],type:"compound"},{id:"latpd",name:"Lat Pulldown",sets:2,rr:[8,12],type:"compound"},{id:"cabfly",name:"Cable Fly / Pec Deck",sets:2,rr:[12,15],type:"isolation"},{id:"latb",name:"Lateral Raises",sets:3,rr:[12,15],type:"isolation",ds:true},{id:"hamcurl",name:"Hammer Curls",sets:2,rr:[8,12],type:"isolation"},{id:"ohtri",name:"OH Tricep Extensions",sets:2,rr:[10,12],type:"isolation"}]},fri:{name:"Lower B",emoji:"ðŸ¦¿",subtitle:"Volume",note:"Farmer carries are mandatory. Build traps, grip, core, and mental toughness.",exercises:[{id:"legpr",name:"Leg Press",sets:3,rr:[8,12],type:"compound"},{id:"bss",name:"Bulgarian Split Squats",sets:2,rr:[8,12],type:"compound"},{id:"llegcurl",name:"Lying Leg Curl",sets:3,rr:[10,12],type:"isolation"},{id:"calfb",name:"Calves",sets:3,rr:[12,15],type:"isolation"},{id:"farmer",name:"Farmer Carries",sets:3,rr:[40,60],type:"carry",u:"sec"}]},sat:{name:"Arms + Delts",emoji:"ðŸ”¥",subtitle:"Specialization",note:"Fast pace. 60-90 sec rest on isolations. In and out in 45-55 min.",exercises:[{id:"sdblat",name:"Seated DB Lateral Raises",sets:3,rr:[12,15],type:"isolation"},{id:"cablat",name:"Cable Lateral Raises",sets:3,rr:[12,15],type:"isolation"},{id:"rdf",name:"Rear Delt Fly",sets:3,rr:[12,15],type:"isolation"},{id:"hhcurl",name:"Heavy Hammer Curls",sets:2,rr:[8,10],type:"isolation"},{id:"inccurl",name:"Incline DB Curls",sets:2,rr:[10,12],type:"isolation"},{id:"revcurl",name:"Reverse Curls",sets:2,rr:[10,15],type:"isolation"},{id:"cgbench",name:"Close-Grip Bench / Dips",sets:2,rr:[6,8],type:"compound"},{id:"tpushb",name:"Tricep Pushdowns",sets:2,rr:[10,12],type:"isolation"},{id:"ohcab",name:"OH Cable Extension",sets:2,rr:[12,15],type:"isolation"}]}};
const DO=["mon","tue","wed","thu","fri","sat"],DL={mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"};
const VOL=[{l:"Chest",s:8,c:"#ef4444"},{l:"Back",s:10,c:"#3b82f6"},{l:"Side Delts",s:11,c:"#f97316"},{l:"Rear Delts",s:5,c:"#f59e0b"},{l:"Quads",s:10,c:"#22c55e"},{l:"Hamstrings",s:8,c:"#10b981"},{l:"Biceps",s:8,c:"#a855f7"},{l:"Triceps",s:8,c:"#8b5cf6"},{l:"Calves",s:6,c:"#06b6d4"}];

let S={d:{},day:null,cs:{},exp:{},jl:{},ov:false,inst:true,toast:null};

function ld(){try{const r=localStorage.getItem("overload-v4");return r?JSON.parse(r):{}}catch{return{}}}
function sv(d){try{localStorage.setItem("overload-v4",JSON.stringify(d));return true}catch{return false}}
function gh(id){return(S.d[id]||[]).slice(-10)}

function rec(h,ex){
  if(!h||!h.length)return{w:null,r:ex.rr[0],m:"First time â€” start light, find your working weight.",a:"new"};
  const l=h[h.length-1],[mn,mx]=ex.rr,lw=l.sets[0]?.weight||0,inc=ex.type==="compound"?5:2.5;
  if(ex.u==="sec"){const d=l.sets[0]?.reps||40;if(d>=mx)return{w:lw+5,r:mn,m:`Held ${d}s â€” bump +5 lbs, aim for ${mn}s.`,a:"increase_weight"};return{w:lw,r:Math.min(d+5,mx),m:`Hold ${Math.min(d+5,mx)}s at ${lw} lbs.`,a:"increase_reps"}}
  if(l.sets.every(s=>s.reps>=mx))return{w:lw+inc,r:mn,m:`All sets hit ${mx} reps â€” move up to ${lw+inc} lbs, reset to ${mn} reps.`,a:"increase_weight"};
  if(l.sets.every(s=>s.reps>=Math.floor((mn+mx)/2))){const av=Math.round(l.sets.reduce((a,s)=>a+s.reps,0)/l.sets.length);return{w:lw,r:Math.min(av+1,mx),m:`Stay at ${lw} lbs â€” push for ${Math.min(av+1,mx)} reps.`,a:"increase_reps"}}
  if(l.sets.some(s=>s.reps<mn))return{w:lw,r:mn,m:`Stay at ${lw} lbs â€” hit ${mn}+ reps every set first.`,a:"hold"};
  return{w:lw,r:l.sets[0]?.reps||mn,m:`Keep at ${lw} lbs â€” build reps up.`,a:"hold"};
}

function az(h,ex){
  if(!h||h.length<2)return null;
  const l=h[h.length-1],p=h[h.length-2],[mn,mx]=ex.rr,inc=ex.type==="compound"?5:2.5;
  const lw=l.sets.reduce((a,s)=>a+s.weight,0)/l.sets.length,pw=p.sets.reduce((a,s)=>a+s.weight,0)/p.sets.length;
  const lr=l.sets.reduce((a,s)=>a+s.reps,0)/l.sets.length,pr=p.sets.reduce((a,s)=>a+s.reps,0)/p.sets.length;
  return{wu:lw>pw,ru:lr>pr&&lw>=pw,top:l.sets.every(s=>s.reps>=mx),pl:Math.abs(lw-pw)<.5&&Math.abs(lr-pr)<.5,rg:lw<pw||(lw===pw&&lr<pr),lw,lr,inc,mx,mn};
}

function is(ex){if(S.cs[ex.id])return S.cs[ex.id];const r=rec(gh(ex.id),ex);return Array.from({length:ex.sets},()=>({weight:r.w||0,reps:0}))}
function toast(t){S.toast=t;R();setTimeout(()=>{S.toast=null;R()},2100)}
function log(ex){const s=S.cs[ex.id]||is(ex);if(s.some(x=>!x.weight||!x.reps))return;if(!S.d[ex.id])S.d[ex.id]=[];S.d[ex.id].push({date:new Date().toISOString(),sets:[...s]});const ok=sv(S.d);delete S.cs[ex.id];S.jl[ex.id]=true;S.exp[ex.id]=true;toast(ok?"ok":"err")}

function h(t,a,...c){const e=document.createElement(t);if(a)Object.entries(a).forEach(([k,v])=>{if(k==="className")e.className=v;else if(k==="style"&&typeof v==="object")Object.assign(e.style,v);else if(k.startsWith("on"))e.addEventListener(k.slice(2).toLowerCase(),v);else e.setAttribute(k,v)});c.flat(9).forEach(x=>{if(x==null||x===false)return;e.appendChild(typeof x==="string"||typeof x==="number"?document.createTextNode(x):x)});return e}

function rfb(ex){
  const hi=gh(ex.id),a=az(hi,ex),r=rec(hi,ex),l=hi[hi.length-1];
  let col,bg,ic,ti,de;
  if(!a){col="#3b82f6";bg="#3b82f610";ic="ðŸ“Š";ti="BASELINE SET";de="First session logged! Next week we track progress.";}
  else if(a.top){col="#22c55e";bg="#22c55e15";ic="â¬†ï¸";ti="MOVE UP NEXT WEEK";de=`Crushed ${a.mx} reps all sets. Next: ${Math.round(a.lw+a.inc)} lbs Ã— ${a.mn} reps.`;}
  else if(a.wu||a.ru){col="#22c55e";bg="#22c55e15";ic="ðŸ“ˆ";ti="PROGRESS";de=a.wu?"Weight up! Push reps toward "+a.mx+".":"Reps improved! Build toward "+a.mx+" then move up.";}
  else if(a.pl){col="#f59e0b";bg="#f59e0b15";ic="âš ï¸";ti="PLATEAU";de="Same as last time. Slow eccentrics, pause reps, or consider a deload.";}
  else if(a.rg){col="#ef4444";bg="#ef444415";ic="â¬‡ï¸";ti="CHECK IN";de="Dipped from last session. Likely recovery. Rebuild next week.";}
  else{col="#3b82f6";bg="#3b82f610";ic="ðŸ”„";ti="HOLD STEADY";de="Solid. Stay here and build reps.";}
  return h("div",{className:"fb",style:{background:bg,border:`1.5px solid ${col}40`}},
    h("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}},
      h("div",{style:{display:"flex",gap:"10px",flex:"1"}},
        h("span",{className:"fi"},ic),
        h("div",null,
          h("div",{className:"ft",style:{color:col}},ti),
          h("div",{className:"fd"},de),
          h("div",{className:"fs"},l.sets.map((s,i)=>h("span",{className:"fst",style:{borderColor:col+"30"}},`S${i+1}: ${s.weight}Ã—${s.reps}`))),
          r.w?h("div",{className:"fn"},h("span",{className:"fnl"},"NEXT WEEK â†’ "),h("span",{className:"fnv",style:{color:col}},`${r.w} lbs Ã— ${r.r} ${ex.u==="sec"?"sec":"reps"}`)):null
        )
      ),
      h("button",{className:"fx",onClick:()=>{delete S.jl[ex.id];R()}},"âœ•")
    )
  );
}

function rex(ex){
  const hi=gh(ex.id),r=rec(hi,ex),sets=is(ex),il=!!S.jl[ex.id],ie=!!S.exp[ex.id],ls=hi.length?hi[hi.length-1]:null,af=sets.every(s=>s.weight>0&&s.reps>0);
  const card=h("div",{className:"ec"+(il?" logged":"")});
  card.appendChild(h("div",{className:"eh",onClick:()=>{S.exp[ex.id]=!S.exp[ex.id];R()}},
    h("div",null,
      h("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},il?h("span",{style:{fontSize:"12px"}},"âœ…"):null,h("span",{className:"en"+(il?" lg":"")},ex.name),ex.ds?h("span",{className:"tg td"},"DROP SET"):null),
      h("span",{className:"em"},`${ex.sets} sets Â· ${ex.rr[0]}â€“${ex.rr[1]} ${ex.u==="sec"?"sec":"reps"}`,ls&&!il?h("span",{className:"el"},` Â· Last: ${ls.sets[0]?.weight}Ã—${ls.sets[0]?.reps}`):null)
    ),
    h("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},!il&&r.a==="increase_weight"&&hi.length?h("span",{className:"tg tu"},"â†‘ WEIGHT"):null,h("span",{className:"ch"+(ie?" o":"")},"â–¾"))
  ));
  if(ie){
    const body=h("div",{style:{marginTop:"12px"}});
    if(il){body.appendChild(rfb(ex))}
    else{
      body.appendChild(h("div",{className:"tb"},h("div",{className:"tl"},"TODAY'S TARGET"),h("div",{className:"tm"},r.m),r.w?h("div",{className:"tp"},h("span",{className:"pl "+(r.a==="increase_weight"?"pu":"pw")},r.w+" lbs"+(r.a==="increase_weight"?" â¬†":"")),h("span",{className:"pl pr"},r.r+" "+(ex.u==="sec"?"sec":"reps"))):null));
      if(ls)body.appendChild(h("div",{className:"ls"},h("div",{className:"ll"},"LAST SESSION Â· "+new Date(ls.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),h("div",{className:"ld"},ls.sets.map(s=>`${s.weight}Ã—${s.reps}`).join("  Â·  "))));
      sets.forEach((s,i)=>{
        const wi=h("input",{type:"number",inputMode:"decimal",placeholder:"lbs",className:"inp iw",value:s.weight||""});
        wi.addEventListener("input",e=>{if(!S.cs[ex.id])S.cs[ex.id]=[...sets];S.cs[ex.id][i].weight=parseFloat(e.target.value)||0;ulb(ex)});
        const ri=h("input",{type:"number",inputMode:"numeric",placeholder:ex.u==="sec"?"sec":"reps",className:"inp ir",value:s.reps||""});
        ri.addEventListener("input",e=>{if(!S.cs[ex.id])S.cs[ex.id]=[...sets];S.cs[ex.id][i].reps=parseInt(e.target.value)||0;ulb(ex)});
        body.appendChild(h("div",{className:"sr"},h("span",{className:"sl"},"S"+(i+1)),h("div",{className:"si"},wi,h("span",{className:"sx"},"Ã—"),ri),h("span",{className:"sn"},`${ex.rr[0]}â€“${ex.rr[1]}${ex.u==="sec"?"s":""}`)));
      });
      body.appendChild(h("button",{className:"lb "+(af?"rdy":"dis"),id:"lb-"+ex.id,onClick:()=>log(ex)},"âœ“ LOG & SEE PROGRESS"));
    }
    card.appendChild(body);
  }
  return card;
}

function ulb(ex){const s=S.cs[ex.id]||is(ex),af=s.every(x=>x.weight>0&&x.reps>0),b=document.getElementById("lb-"+ex.id);if(b)b.className="lb "+(af?"rdy":"dis")}

function rov(){
  const c=h("div",{style:{marginBottom:"16px"}},h("div",{className:"ot"},"ðŸ”„ Progressive Overload Overview"),h("div",{className:"od"},"Exercises marked â¬† are ready for a weight increase."));
  let hd=false;
  DO.forEach(day=>{const w=W[day];if(!w.exercises.length)return;let mu=[],ne=[];w.exercises.forEach(ex=>{const hi=gh(ex.id);if(!hi.length){ne.push(ex.name);return}if(rec(hi,ex).a==="increase_weight")mu.push(ex.name)});if(!mu.length&&!ne.length)return;hd=true;
    c.appendChild(h("div",{className:"ds"},h("div",{className:"dst"},`${w.emoji} ${w.name} â€” ${w.subtitle}`),mu.length?h("div",{className:"dsl"},h("span",{className:"dsu"},"â¬† Move up: "),h("span",{className:"dsv"},mu.join(", "))):null,ne.length?h("div",{className:"dsl"},h("span",{className:"dsn"},"ðŸ†• No data: "),h("span",{className:"dsnv"},ne.join(", "))):null))});
  if(!hd&&!Object.keys(S.d).length)c.appendChild(h("div",{style:{fontSize:"12px",color:"#3f3f46",textAlign:"center",padding:"20px"}},"No data yet. Start logging to see recommendations."));
  return c;
}

function R(){
  const app=document.getElementById("app");app.innerHTML="";
  const day=S.day,w=day?W[day]:null;
  if(S.toast)app.appendChild(h("div",{className:"toast "+(S.toast==="ok"?"tok":"ter")},S.toast==="ok"?"âœ“ Saved":"âš  Save failed"));
  const hdr=h("div",{className:"header"});
  hdr.appendChild(h("div",{className:"header-top"},h("div",null,h("div",{className:"logo"},"OVERLOAD"),h("span",{className:"logo-sub"},"PROGRESSIVE TRACKER")),h("div",{className:"header-btns"},h("button",{className:"header-btn"+(S.ov?" active":""),onClick:()=>{S.ov=!S.ov;R()}},S.ov?"âœ• CLOSE":"ðŸ“Š OVERVIEW"),h("button",{className:"header-btn",onClick:()=>{if(confirm("Reset ALL history?"))S.d={},S.jl={},S.cs={},sv({}),R()}},"RESET"))));
  const days=h("div",{className:"days"});
  DO.forEach(d=>{const x=W[d];days.appendChild(h("button",{className:"day-btn"+(day===d?" active":""),onClick:()=>{S.day=d;S.ov=false;S.jl={};R()}},h("span",{className:"day-emoji"},x.emoji),h("span",{className:"day-label"},DL[d])))});
  hdr.appendChild(days);app.appendChild(hdr);
  const ct=h("div",{className:"content"});
  if(S.inst){const ios=/iPad|iPhone|iPod/.test(navigator.userAgent);ct.appendChild(h("div",{className:"ib"},h("div",{className:"ibt"},"ðŸ“² Add to Home Screen"),h("div",{className:"ibs"},ios?"Tap Share (box with arrow) â†’ \"Add to Home Screen\" to use as a standalone app.":"Tap menu (â‹®) â†’ \"Add to Home Screen\" or \"Install App\" to use as a standalone app."),h("button",{className:"ibd",onClick:()=>{S.inst=false;R()}},"Got it, dismiss")))}
  if(S.ov){ct.appendChild(rov())}
  else if(w){
    ct.appendChild(h("div",{className:"wt"},h("h2",null,w.emoji+" "+w.name),h("span",{className:"ws"},w.subtitle)));
    ct.appendChild(h("p",{className:"wn"},w.note));
    if(!w.exercises.length)ct.appendChild(h("div",{className:"rd"},h("div",{className:"re"},"ðŸ’¤"),h("div",{className:"rt"},"Rest Day"),h("div",{className:"rdd"},"Incline walk, band pull-aparts, face pulls. Let your body recover.")));
    else w.exercises.forEach(ex=>ct.appendChild(rex(ex)));
    const vs=h("div",{className:"vs"},h("div",{className:"vt"},"WEEKLY VOLUME"));
    VOL.forEach(m=>vs.appendChild(h("div",{className:"vr"},h("span",{className:"vl"},m.l),h("div",{className:"vb"},h("div",{className:"vf",style:{width:(m.s/12*100)+"%",background:m.c}})),h("span",{className:"vn",style:{color:m.c}},""+m.s))));
    ct.appendChild(vs);
  }
  app.appendChild(ct);
}

S.d=ld();
const dm={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",0:"mon"};
S.day=dm[new Date().getDay()];
R();
</script>
</body>
</html>